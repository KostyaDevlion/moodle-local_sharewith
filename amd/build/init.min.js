define(["jquery","local_sharewith/buildtree","local_sharewith/events","local_sharewith/modal"],function(e,o,i,a){var n=document.querySelector("body");return{init:function(e,t,r){i.getCurrentCourse(),a.insertTemplates(),1===Number(t)&&o.addCopyActivityButton(n),1===Number(e)&&o.addCopySectionButton(n),1===Number(r)&&o.addShareActivityButton(n),n.addEventListener("click",function(e){for(var t=e.target;t!==n;){if(t.classList.contains("selectCategory"))return void i.selectCategory();if("copyCourseToCategory"===t.dataset.handler)return void i.copyCourseToCategory();if("selectCourse"===t.dataset.handler)return void i.selectCourse(t);if("selectTeacher"===t.dataset.handler)return void i.selectTeacher(t);if("selectSection"===t.dataset.handler)return void i.selectSection();if("copyActivityToCourse"===t.dataset.handler)return void i.copyActivityToCourse();if("copySectionToCourse"===t.dataset.handler)return void i.copySectionToCourse();if("saveActivityToCourse"===t.dataset.handler)return void i.saveActivityToCourse();if("saveActivity"===t.dataset.handler)return void i.saveActivity(t);t=t.parentNode}})}}});