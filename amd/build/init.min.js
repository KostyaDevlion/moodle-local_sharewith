define(["jquery","local_sharewith/buildtree","local_sharewith/events","local_sharewith/modal"],function(a,b,c,d){var e=document.querySelector("body");return{init:function(a,f){c.getCurrentCourse(),d.insertTemplates(),1===Number(f)&&b.addCopyActivityButton(e),1===Number(a)&&b.addCopySectionButton(e),e.addEventListener("click",function(a){for(var b=a.target;b!==e;){if(b.classList.contains("selectCategory"))return void c.selectCategory();if("copyCourseToCategory"===b.dataset.handler)return void c.copyCourseToCategory();if("selectCourse"===b.dataset.handler)return void c.selectCourse(b);if("selectSection"===b.dataset.handler)return void c.selectSection();if("copyActivityToCourse"===b.dataset.handler)return void c.copyActivityToCourse();if("copySectionToCourse"===b.dataset.handler)return void c.copySectionToCourse();b=b.parentNode}})}}});