define ("local_sharewith/modal",["jquery","core/templates","core/notification"],function(a,b,c){var d={modalWrapper:"#modalSharewith",modalContent:"#modalContentSharewith",triggerBtn:"#triggerModalSharewith",actionMenu:".course-content li.activity .actions .action-menu",actionBlock:".course-content li.activity .actions > div",menuSection:".course-content .section_action_menu [role=\"menu\"]",editMenu:".course-content li.activity [role=\"menu\"]"};return{template:{modalwrapper:"local_sharewith/modalwrapper",selector:"local_sharewith/selector",copyinstance:"local_sharewith/copyinstance",error:"local_sharewith/error",confirm:"local_sharewith/confirm",shareteacher:"local_sharewith/shareteacher",uploadactivity:"local_sharewith/uploadactivity"},modalInit:!1,triggerBtn:"",modalContent:"",modalWrapper:"",addShareActivityButton:function addShareActivityButton(){var b=M.util.get_string("eventcopytoteacher","local_sharewith"),c=a(document).find(d.editMenu);c.each(function(){var c=a(this).children().last().clone(),d=a(this).parents(".activity").find("[data-itemtype=\"activityname\"]").data("itemid");c.find(".menu-action-text").text(b);c.attr("href","#").attr("data-handler","shareActivity").attr("data-cmid",d).removeAttr("data-action").addClass("sharingact_item");c.find(".icon").attr("title",b).attr("aria-label",b).removeAttr("class").addClass("icon fa fa-share-alt fa-fw");a(this).append(c)})},addCopyActivityButton:function addCopyActivityButton(){var b=M.util.get_string("eventactivitycopy","local_sharewith"),c=a(document).find(d.editMenu);c.each(function(){var c=a(this).children().last().clone(),d=a(this).parents(".activity").find("[data-itemtype=\"activityname\"]").data("itemid");c.find(".menu-action-text").text(b);c.attr("href","#").attr("data-handler","selectCourse").attr("data-cmid",d).removeAttr("data-action").addClass("sharingact_item");c.find(".icon").attr("title",b).attr("aria-label",b).removeAttr("class").addClass("icon fa fa-copy fa-fw");a(this).append(c)})},addCopySectionButton:function addCopySectionButton(){var b=M.util.get_string("eventsectioncopy","local_sharewith"),c=a(document).find(d.menuSection);c.each(function(){var c=a(this).children().last().clone();c.attr("href","#").attr("data-handler","selectCourseForSection");c.find(".menu-action-text").text(b);c.find(".icon").removeAttr("class").attr("title",b).attr("aria-label",b).addClass("icon fa fa-copy fa-fw");a(this).append(c)})},insertModalTemplates:function insertModalTemplates(){var a=this;return b.render("local_sharewith/modalwrapper",{}).done(function(c,e){if(!a.modalInit){b.appendNodeContents("body",c,e);a.modalInit=!0;a.modalWrapper=document.querySelector(d.modalWrapper);a.modalContent=document.querySelector(d.modalContent);a.triggerBtn=document.querySelector(d.triggerBtn)}}).fail(c.exception)},render:function render(a,d){var e=this;return b.render(a,d).done(function(a,c){b.replaceNodeContents(e.modalContent,a,c)}).fail(c.exception)},addBtnSpinner:function addBtnSpinner(){a("#modalspinner").removeClass("d-none");a("#modalspinner").addClass("loading");a("#modalspinner").parent().prop("disabled",!0)},goBack:function goBack(){var a={activitysending:+this.actions.activitysending};this.render(this.template.selector,a)}}});
//# sourceMappingURL=modal.min.js.map
