{"version":3,"sources":["../src/init.js"],"names":["define","$","modal","shareWithTeacher","copyInstance","root","document","querySelector","init","actions","insertTemplates","done","addActionNode","addEventListener","e","target","contains","dataset","handler","goBack","parentNode"],"mappings":"AAyBAA,OAAM,wBAAC,CACH,QADG,CAEH,uBAFG,CAGH,kCAHG,CAIH,8BAJG,CAAD,CAKH,SAASC,CAAT,CAAYC,CAAZ,CAAmBC,CAAnB,CAAqCC,CAArC,CAAmD,CAElD,GAAIC,CAAAA,CAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX,CAEA,MAAO,CACHC,IAAI,CAAE,cAASC,CAAT,CAAkB,CAEpBP,CAAK,CAACQ,eAAN,CAAsBD,CAAtB,EAA+BE,IAA/B,CAAoC,UAAW,CAC3CT,CAAK,CAACU,aAAN,GACAT,CAAgB,CAACK,IAAjB,GACAJ,CAAY,CAACI,IAAb,GAEAH,CAAI,CAACQ,gBAAL,CAAsB,OAAtB,CAA+B,SAASC,CAAT,CAAY,CACvC,GAAIC,CAAAA,CAAM,CAAGD,CAAC,CAACC,MAAf,CACA,MAAOV,CAAI,CAACW,QAAL,CAAcD,CAAd,CAAP,CAA8B,CAC1B,OAAQA,CAAM,CAACE,OAAP,CAAeC,OAAvB,EACE,IAAK,QAAL,CACIhB,CAAK,CAACiB,MAAN,GACA,MAHN,CAKAJ,CAAM,CAAGA,CAAM,CAACK,UACnB,CACJ,CAVD,CAWL,CAhBC,CAiBH,CApBE,CAsBV,CA/BK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript controller for the \"Actions\" panel at the bottom of the page.\n *\n * @module     local_sharewith/init\n * @package    local_sharewith\n * @copyright  2018 Devlion <info@devlion.co>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.6\n */\n\ndefine([\n    'jquery',\n    'local_sharewith/modal',\n    'local_sharewith/sharewithteacher',\n    'local_sharewith/copyinstance'\n], function($, modal, shareWithTeacher, copyInstance) {\n\n    var root = document.querySelector('body');\n\n    return {\n        init: function(actions) {\n            // Add modal bootstap markup to the DOM\n            modal.insertTemplates(actions).done(function() {\n                modal.addActionNode();\n                shareWithTeacher.init();\n                copyInstance.init();\n\n                root.addEventListener('click', function(e) {\n                    var target = e.target;\n                    while (root.contains(target)) {\n                        switch (target.dataset.handler) {\n                          case 'goBack':\n                              modal.goBack();\n                              break;\n                        }\n                        target = target.parentNode;\n                    }\n                });\n          });\n        }\n    };\n});\n"],"file":"init.min.js"}